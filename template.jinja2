# System Interfaces Configuration for {{device.name}}
interfaces {
    {% for interface in device.interfaces.all() %}
    {{ interface.name }} {
        description "{{ interface.label }}";
        {% if interface.enabled %}
        {% if interface.lag %}
        ether-options {
            802.3ad {{ interface.lag.name }};
        }
        {% else %}
        unit 0 {
            family inet {
                {% for ip in interface.ip_addresses.filter(prefix__version=4) %}
                address {{ ip }};
                {% endfor %}
            }
            family inet6 {
                {% for ip in interface.ip_addresses.filter(prefix__version=6) %}
                address {{ ip }};
                {% endfor %}
            }
        }
        {% endif %}
        {% else %}
        disable;
        {% endif %}
    }
    {% endfor %}
}

